<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Collaboratif avec TogetherJS</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    textarea { width: 100%; max-width: 500px; height: 200px; }
    button { margin-top: 1em; padding: 0.5em 1em; font-size: 1rem; }
  </style>

  <!-- 1) CONFIGUREZ ICI VOTRE HUB (heroku ou cpsx-hub) -->
  <script>
    window.TogetherJSConfig_hubBase = "https://cpsx-hub.herokuapp.com/";
  </script>
  <!-- 2) CHARGEZ TOGETHERJS -->
  <script src="https://togetherjs.com/togetherjs-min.js"></script>
</head>
<body>

  <h1>Édition collaborative</h1>
  <textarea placeholder="Tapez ici…"></textarea>
  <br>
  <button id="start-togetherjs">Démarrer la session collaborative</button>

  <script>
    document.getElementById('start-togetherjs')
      .addEventListener('click', () => TogetherJS.start());

    TogetherJS.on('ready',           () => console.log("TogetherJS prêt"));
    TogetherJS.on('sessionConnected',() => alert("Un·e participant·e est arrivé·e !"));
    TogetherJS.on('sessionDisconnected',() => alert("Quelqu’un est parti."));
    TogetherJS.on('error', err => console.error(err));
  </script>
</body>
</html>
